import{r as i,s as _,j as e,v as N}from"./main-l2fMN52j.js";import{M as b}from"./index-OpTZTnLh.js";import{A as y}from"./index-vYdxi4r9.js";import{u as B,a as O}from"./index-BKMnXri5.js";import"./index-DkDLK1wa.js";import"./netflix-wkEmooaA.js";const S="_container_1jm4i_1",P="_inputBox_1jm4i_5",D="_placeholder_1jm4i_11",I="_placeholderDeactive_1jm4i_16",M="_selectedOptions_1jm4i_20",k="_selectedOption_1jm4i_20",F="_input_1jm4i_5",R="_modalBox_1jm4i_34",z="_modalBoxOption_1jm4i_40",l={container:S,inputBox:P,placeholder:D,placeholderDeactive:I,selectedOptions:M,selectedOption:k,input:F,modalBox:R,modalBoxOption:z},C=({placeholder:m="SelectInput",options:h=[],selectedOptions:a,setSelectedOptions:c})=>{const[r,d]=i.useState(!1),[p,u]=i.useState(""),n=i.useRef(null),v=_(f),t=()=>{var s;(s=n.current)==null||s.focus(),d(!0)};function f(){var s;(s=n.current)==null||s.focus(),u(""),d(!1)}const j=s=>{c(x=>x.filter(o=>o.value!==s.value))},g=s=>{a.find(o=>o.value===s.value)||c(o=>[s,...o])};return e.jsxs("div",{className:l.container,ref:v,children:[e.jsxs("div",{className:l.inputBox,onClick:t,children:[e.jsx("span",{className:`${l.placeholder} ${a.length>0||r?l.placeholderDeactive:l.placeholderActive}`,children:m}),e.jsxs("div",{className:l.selectedOptions,children:[a.map((s,x)=>e.jsxs("div",{className:l.selectedOption,children:[e.jsx("span",{className:"px-2 py-1",children:s.label}),e.jsx("span",{className:"flex items-center bg-zinc-800 px-1 hover:bg-red-700 cursor-pointer",onClick:()=>j(s),children:e.jsx("i",{className:"flex fi fi-rr-cross-small "})})]},x)),e.jsx("input",{className:l.input,value:p,onChange:s=>u(s.target.value),ref:n,style:{width:`${(p.length+5)*8}px`}})]})]}),r&&e.jsx("div",{className:l.modalBox,children:h.map(s=>e.jsx("div",{className:l.modalBoxOption,onClick:()=>g(s),children:s.value}))})]})},E=[{display:"Name",field:"title"},{display:"IMDb Score",field:"vote_average"},{display:"Popularity",field:"vote_count"},{display:"Released Date",field:"release_date"}],w=[{value:"value 1",label:"label 1"},{value:"value 2",label:"label 2"},{value:"value 3",label:"label 3"},{value:"value 4",label:"label 4"},{value:"value 5",label:"label 5"}],L=()=>{const[m,h]=i.useState([]),{data:a,isFetching:c,error:r,fetchNextPage:d,hasNextPage:p,isFetchingNextPage:u}=B({queryKey:["PopularMoviesPage"],queryFn:({pageParam:t})=>N(t),getNextPageParam:t=>{if(t.page<t.total_pages)return t.page+1},initialPageParam:1}),n=O({fetchNextPage:d,hasNextPage:!!p,isLoading:u}),v=i.useMemo(()=>(a==null?void 0:a.pages.flatMap(t=>t.results))||[],[a]);return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]),e.jsxs("div",{children:[e.jsx(y,{title:"Explore Movies"}),e.jsxs("div",{className:"container mx-auto mt-5 flex gap-3",children:[e.jsx(b,{movies:v,isFetching:c,error:r,sortOptions:E,defaultGrid:4,ref:n}),e.jsxs("div",{className:`w-96 h-screen  mt-2 sticky top-[81px] flex flex-col gap-5
         `,children:[e.jsx("div",{className:" bg-zinc-950 rounded-md py-4 px-3",children:e.jsx(C,{placeholder:"Filter By Genres",options:w,selectedOptions:m,setSelectedOptions:h})}),e.jsx("div",{className:" bg-zinc-950 rounded-md h-20 py-4 px-3",children:e.jsx("h2",{className:"text-xl text-zinc-100 mb-4",children:"Filter By Genres"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By Release Date"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By IMDb Rate"})})]})]})]})};export{L as default};
