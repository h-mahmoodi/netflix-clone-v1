import{r as i,s as j,j as e,v as N}from"./main-DlDe4LCz.js";import{M as b}from"./index-ClLRHsYv.js";import{A as O}from"./index-0syafev4.js";import{u as y,a as B}from"./index-BwhHqyMJ.js";import"./index-CKS7-G5w.js";import"./netflix-wkEmooaA.js";const S="_container_1u84q_1",q="_inputBox_1u84q_5",P="_placeholder_1u84q_11",D="_placeholderDeactive_1u84q_16",I="_selectedOptions_1u84q_20",M="_selectedOption_1u84q_20",k="_input_1u84q_5",R="_modalBox_1u84q_34",z="_modalBoxOption_1u84q_40",t={container:S,inputBox:q,placeholder:P,placeholderDeactive:D,selectedOptions:I,selectedOption:M,input:k,modalBox:R,modalBoxOption:z},F=[{value:"value 1",label:"label 1"},{value:"value 2",label:"label 2"},{value:"value 3",label:"label 3"},{value:"value 4",label:"label 4"},{value:"value 5",label:"label 5"}],C=({placeholder:a="SelectInput",defaultSelected:m})=>{const[o,r]=i.useState(!1),[n,d]=i.useState(m||[]),[p,u]=i.useState(""),l=i.useRef(null),h=j(f),v=()=>{var s;(s=l.current)==null||s.focus(),r(!0)};function f(){var s;(s=l.current)==null||s.focus(),u(""),r(!1)}const g=s=>{d(x=>x.filter(c=>c.value!==s.value))},_=s=>{n.find(c=>c.value===s.value)||d(c=>[s,...c])};return e.jsxs("div",{className:t.container,ref:h,children:[e.jsxs("div",{className:t.inputBox,onClick:v,children:[e.jsx("span",{className:`${t.placeholder} ${n.length>0||o?t.placeholderDeactive:t.placeholderActive}`,children:a}),e.jsxs("div",{className:t.selectedOptions,children:[n.map((s,x)=>e.jsxs("div",{className:t.selectedOption,children:[e.jsx("span",{className:"px-2 py-1",children:s.label}),e.jsx("span",{className:"flex items-center bg-zinc-800 px-1 hover:bg-red-700 cursor-pointer",onClick:()=>g(s),children:e.jsx("i",{className:"flex fi fi-rr-cross-small "})})]},x)),e.jsx("input",{className:t.input,value:p,onChange:s=>u(s.target.value),ref:l,style:{width:`${(p.length+5)*8}px`}})]})]}),o&&e.jsx("div",{className:t.modalBox,children:F.map(s=>e.jsx("div",{className:t.modalBoxOption,onClick:()=>_(s),children:s.value}))})]})},E=[{display:"Name",field:"title"},{display:"IMDb Score",field:"vote_average"},{display:"Popularity",field:"vote_count"},{display:"Released Date",field:"release_date"}],L=()=>{const{data:a,isFetching:m,error:o,fetchNextPage:r,hasNextPage:n,isFetchingNextPage:d}=y({queryKey:["PopularMoviesPage"],queryFn:({pageParam:l})=>N(l),getNextPageParam:l=>{if(l.page<l.total_pages)return l.page+1},initialPageParam:1}),p=B({fetchNextPage:r,hasNextPage:!!n,isLoading:d}),u=i.useMemo(()=>(a==null?void 0:a.pages.flatMap(l=>l.results))||[],[a]);return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]),e.jsxs("div",{children:[e.jsx(O,{title:"Explore Movies"}),e.jsxs("div",{className:"container mx-auto mt-5 flex gap-3",children:[e.jsx(b,{movies:u,isFetching:m,error:o,sortOptions:E,defaultGrid:4,ref:p}),e.jsxs("div",{className:`w-96 h-screen  mt-2 sticky top-[81px] flex flex-col gap-5
         `,children:[e.jsx("div",{className:" bg-zinc-950 rounded-md py-4 px-3",children:e.jsx(C,{})}),e.jsx("div",{className:" bg-zinc-950 rounded-md h-20 py-4 px-3",children:e.jsx("h2",{className:"text-xl text-zinc-100 mb-4",children:"Filter By Genres"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By Release Date"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By IMDb Rate"})})]})]})]})};export{L as default};
