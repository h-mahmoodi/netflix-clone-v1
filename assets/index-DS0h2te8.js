import{r as a,j as o,d as f}from"./main-CIuKfFDS.js";import{M as d}from"./index-CldYTKHH.js";import{A as m}from"./index-D-NLH0hJ.js";import{u as c,a as g}from"./index-DIArOwCB.js";import"./index-DQBivOJS.js";import"./netflix-wkEmooaA.js";const P=[{display:"Name",field:"title"},{display:"IMDb Score",field:"vote_average"},{display:"Popularity",field:"vote_count"},{display:"Released Date",field:"release_date"}],j=()=>{const{data:t,isFetching:r,error:i,fetchNextPage:s,hasNextPage:p,isFetchingNextPage:l}=c({queryKey:["PopularMoviesPage"],queryFn:({pageParam:e})=>f(e),getNextPageParam:e=>{if(e.page<e.total_pages)return e.page+1},initialPageParam:1}),n=g({fetchNextPage:s,hasNextPage:!!p,isLoading:l}),u=a.useMemo(()=>(t==null?void 0:t.pages.flatMap(e=>e.results))||[],[t]);return a.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]),o.jsxs("div",{children:[o.jsx(m,{title:"Popular Movies"}),o.jsx(d,{movies:u,isFetching:r,error:i,sortOptions:P,ref:n})]})};export{j as default};
