import{j as e,u as j,a as p,r as h,e as v,T as _,h as N,o as u,i as S,k as b,l as w}from"./main-l2fMN52j.js";import{M as q,a as m}from"./index-BB8mkXPl.js";import{M as k,a as y}from"./index-DkDLK1wa.js";const M="_page_1luh2_1",$="_imageAnimation_1luh2_1",T="_relatedSection_1luh2_15",l={page:M,imageAnimation:$,relatedSection:T},B="_movie_8wiq6_1",P="_bannerBackground_8wiq6_1",D="_backdrop_8wiq6_19",A="_movieSection_8wiq6_29",F="_banner_8wiq6_34",C="_bannerOverlay_8wiq6_41",E="_actions_8wiq6_46",O="_bannerPlayButton_8wiq6_58",R="_details_8wiq6_75",I="_title_8wiq6_79",L="_tagline_8wiq6_83",G="_description_8wiq6_86",U="_infoSection_8wiq6_90",z="_info_8wiq6_90",H="_genresSection_8wiq6_97",K="_genresTitle_8wiq6_100",Q="_genres_8wiq6_97",W="_genre_8wiq6_97",n={movie:B,bannerBackground:P,backdrop:D,movieSection:A,banner:F,bannerOverlay:C,actions:E,bannerPlayButton:O,details:R,title:I,tagline:L,description:G,infoSection:U,info:z,genresSection:H,genresTitle:K,genres:Q,genre:W},Y="_movie_1efld_1",J="_backdrop_1efld_4",V="_movieSection_1efld_8",X="_banner_1efld_12",Z="_shimmer_1efld_1",ee="_details_1efld_18",se="_title_1efld_22",ne="_description_1efld_27",ie="_infoSection_1efld_33",ae="_info_1efld_33",te="_genresSection_1efld_42",i={movie:Y,backdrop:J,movieSection:V,banner:X,shimmer:Z,details:ee,title:se,description:ne,infoSection:ie,info:ae,genresSection:te},ce=()=>e.jsxs("div",{className:i.movie,children:[e.jsxs("div",{className:i.movieSection,children:[e.jsx("div",{className:i.banner}),e.jsxs("div",{className:i.details,children:[e.jsx("div",{className:i.title}),e.jsxs("div",{className:i.infoSection,children:[e.jsx("div",{className:i.info}),e.jsx("div",{className:i.info}),e.jsx("div",{className:i.info}),e.jsx("div",{className:i.info})]}),e.jsx("div",{className:i.description}),e.jsx("div",{className:i.genresSection})]})]}),e.jsx("div",{className:i.backdrop})]}),le=({id:a})=>{var o,r,d;const t=j(),{data:s,isFetching:f,error:x}=p({queryKey:["moviePageDetails",a],queryFn:()=>N(a),enabled:!!a,staleTime:5*60*1e3}),g=()=>{t(u({title:(s==null?void 0:s.title)||(s==null?void 0:s.title)||"The Trailer",content:e.jsx(q,{movieId:a})}))};return h.useEffect(()=>{s&&t(v(s))},[t,s]),f?e.jsx(ce,{}):!s||x?e.jsx("div",{children:"Error"}):e.jsxs("div",{className:n.movie,style:{backgroundImage:`url("${_.imageUrl_w1300}${s==null?void 0:s.backdrop_path}")`},children:[e.jsxs("div",{className:n.movieSection,children:[e.jsxs("div",{className:n.banner,children:[e.jsx("img",{src:`${_.imageUrl_w500}${s==null?void 0:s.poster_path}`,alt:"",className:"w-full h-full",loading:"lazy",width:"513",height:"770"}),e.jsxs("div",{className:n.bannerOverlay,children:[e.jsxs("div",{className:n.actions,children:[e.jsx(k,{movie:s}),e.jsx(y,{movie:s})]}),e.jsx("span",{className:n.bannerPlayButton,onClick:g,children:e.jsx("i",{className:"fi fi-rr-play-circle"})})]})]}),e.jsxs("div",{className:n.details,children:[e.jsx("h1",{className:n.title,children:(s==null?void 0:s.title)||(s==null?void 0:s.name)}),e.jsxs("div",{className:n.infoSection,children:[e.jsx("div",{className:n.info,children:e.jsx("span",{children:s==null?void 0:s.status})}),e.jsx("div",{className:n.info,children:e.jsxs("span",{children:["IMDb ",(o=s==null?void 0:s.vote_average)==null?void 0:o.toFixed(1)]})}),e.jsx("div",{className:n.info,children:e.jsx("span",{children:new Date(s==null?void 0:s.release_date).getFullYear()})}),e.jsx("div",{className:n.info,children:e.jsx("span",{children:(r=s==null?void 0:s.spoken_languages)==null?void 0:r.map(c=>`${c.english_name} `)})})]}),e.jsx("div",{className:n.tagline,children:s==null?void 0:s.tagline}),e.jsx("p",{className:n.description,children:s==null?void 0:s.overview}),e.jsxs("div",{className:n.genresSection,children:[e.jsx("span",{className:n.genresTitle,children:"Genres :"}),e.jsx("div",{className:n.genres,children:(d=s==null?void 0:s.genres)==null?void 0:d.map(c=>e.jsx("span",{className:n.genre,children:c.name},c.id))})]})]})]}),e.jsx("div",{className:n.backdrop})]})},_e=()=>{const{id:a}=S(),t=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};return h.useLayoutEffect(()=>{t()},[a]),e.jsxs("div",{className:l.page,children:[e.jsx(le,{id:a}),e.jsxs("div",{children:[e.jsx("div",{className:l.relatedSection,children:e.jsx(m,{title:"Recommended Movies",fetcher:()=>b(a),flag:a,link:"recommended"})}),e.jsx("div",{className:l.relatedSection,children:e.jsx(m,{title:"Related Movies",fetcher:()=>w(a),flag:a,link:"related"})})]}),"AppMoviePage"]})};export{_e as default};
