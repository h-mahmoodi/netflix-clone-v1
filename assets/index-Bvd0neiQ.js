import{r as i,j as e,s as p}from"./main-BPJ7WpKq.js";import{M as x}from"./index-B-VDoOJc.js";import{A as m}from"./index-D6B2JltR.js";import{u as f,a as g}from"./index-BNmBiuwp.js";import"./index--7tQkVSj.js";import"./netflix-wkEmooaA.js";const h=[{display:"Name",field:"title"},{display:"IMDb Score",field:"vote_average"},{display:"Popularity",field:"vote_count"},{display:"Released Date",field:"release_date"}],M=()=>{const{data:t,isFetching:a,error:r,fetchNextPage:o,hasNextPage:l,isFetchingNextPage:n}=f({queryKey:["PopularMoviesPage"],queryFn:({pageParam:s})=>p(s),getNextPageParam:s=>{if(s.page<s.total_pages)return s.page+1},initialPageParam:1}),c=g({fetchNextPage:o,hasNextPage:!!l,isLoading:n}),d=i.useMemo(()=>(t==null?void 0:t.pages.flatMap(s=>s.results))||[],[t]);return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]),e.jsxs("div",{children:[e.jsx(m,{title:"Explore Movies"}),e.jsxs("div",{className:"container mx-auto mt-5 flex gap-3",children:[e.jsx(x,{movies:d,isFetching:a,error:r,sortOptions:h,defaultGrid:4,ref:c}),e.jsxs("div",{className:`w-96 h-screen  mt-2 sticky top-[81px] flex flex-col gap-5
         `,children:[e.jsx("div",{className:" bg-zinc-950 rounded-md h-20 py-4 px-3",children:e.jsx("h2",{className:"text-xl text-zinc-100 mb-4",children:"Filter By Genres"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By Release Date"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By IMDb Rate"})})]})]})]})};export{M as default};
