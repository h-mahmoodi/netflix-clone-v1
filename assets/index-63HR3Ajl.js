import{r as i,s as g,j as e,v as _}from"./main-CZ8tiVXV.js";import{M as j}from"./index-DQdgxTBl.js";import{A as N}from"./index-BTjVYmVY.js";import{u as b,a as y}from"./index-CJ3R8ndw.js";import"./index-Vt5uykL0.js";import"./netflix-wkEmooaA.js";const O="_container_dx3vv_1",S="_inputBox_dx3vv_4",I="_placeholder_dx3vv_10",P="_placeholderDeactive_dx3vv_15",B="_selectedOptions_dx3vv_19",D="_selectedOption_dx3vv_19",M="_input_dx3vv_4",l={container:O,inputBox:S,placeholder:I,placeholderDeactive:P,selectedOptions:B,selectedOption:D,input:M},k=[{value:"value 1",label:"label 1"},{value:"value 2",label:"label 2"},{value:"value 2",label:"label 2"},{value:"value 2",label:"label 2"},{value:"value 2",label:"label 2"}],R=({placeholder:a="SelectInput",defaultSelected:d=k})=>{const[p,c]=i.useState(!1),[n,u]=i.useState(d||[]),[o,r]=i.useState(""),t=i.useRef(null),v=()=>{var s;(s=t.current)==null||s.focus(),c(!0)},h=g(()=>{var s;(s=t.current)==null||s.focus(),r(""),c(!1)}),m=s=>{u(x=>x.filter(f=>f.value!==s.value))};return e.jsx("div",{className:l.container,children:e.jsxs("div",{className:l.inputBox,onClick:v,ref:h,children:[e.jsx("span",{className:`${l.placeholder} ${n.length>0||p?l.placeholderDeactive:l.placeholderActive}`,children:a}),e.jsxs("div",{className:l.selectedOptions,children:[n.map((s,x)=>e.jsxs("div",{className:l.selectedOption,children:[e.jsx("span",{className:"px-2 py-1",children:s.label}),e.jsx("span",{className:"flex items-center bg-zinc-800 px-1 hover:bg-red-700 cursor-pointer",onClick:()=>m(s),children:e.jsx("i",{className:"flex fi fi-rr-cross-small "})})]},x)),e.jsx("input",{className:l.input,value:o,onChange:s=>r(s.target.value),ref:t,style:{width:`${(o.length+5)*8}px`}})]})]})})},z=[{display:"Name",field:"title"},{display:"IMDb Score",field:"vote_average"},{display:"Popularity",field:"vote_count"},{display:"Released Date",field:"release_date"}],q=()=>{const{data:a,isFetching:d,error:p,fetchNextPage:c,hasNextPage:n,isFetchingNextPage:u}=b({queryKey:["PopularMoviesPage"],queryFn:({pageParam:t})=>_(t),getNextPageParam:t=>{if(t.page<t.total_pages)return t.page+1},initialPageParam:1}),o=y({fetchNextPage:c,hasNextPage:!!n,isLoading:u}),r=i.useMemo(()=>(a==null?void 0:a.pages.flatMap(t=>t.results))||[],[a]);return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[]),e.jsxs("div",{children:[e.jsx(N,{title:"Explore Movies"}),e.jsxs("div",{className:"container mx-auto mt-5 flex gap-3",children:[e.jsx(j,{movies:r,isFetching:d,error:p,sortOptions:z,defaultGrid:4,ref:o}),e.jsxs("div",{className:`w-96 h-screen  mt-2 sticky top-[81px] flex flex-col gap-5
         `,children:[e.jsx("div",{className:" bg-zinc-950 rounded-md py-4 px-3",children:e.jsx(R,{})}),e.jsx("div",{className:" bg-zinc-950 rounded-md h-20 py-4 px-3",children:e.jsx("h2",{className:"text-xl text-zinc-100 mb-4",children:"Filter By Genres"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By Release Date"})}),e.jsx("div",{className:"bg-zinc-950 rounded-md h-20 p-4",children:e.jsx("h2",{className:"text-lg text-zinc-100",children:"Filter By IMDb Rate"})})]})]})]})};export{q as default};
